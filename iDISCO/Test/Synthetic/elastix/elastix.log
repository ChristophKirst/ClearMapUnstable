
elastix is started at Sat Jul 25 12:01:57 2015.

which elastix:   /home/ckirst/programs/elastix/bin/elastix
elastix runs at: kagalaska.nld
  Linux 3.16.7-21-desktop (x64), #1 SMP PREEMPT Tue Apr 14 07:11:37 UTC 2015 (93c1539)
  with 7881 MB memory, and 2 cores @ 3300 MHz.
-------------------------------------------------------------------------

Running elastix with parameter file 0: "/home/ckirst/Science/Projects/BrainActivityMap/Analysis/iDISCO/Test/Synthetic/elastix/ElastixParameterAffine.txt".

Current time: Sat Jul 25 12:01:57 2015.
Reading the elastix parameters from file ...

Installing all components.
InstallingComponents was successful.

ELASTIX version: 4.700
Command line options from ElastixBase:
-f        /home/ckirst/Science/Projects/BrainActivityMap/Analysis/iDISCO/Test/Synthetic/test_iDISCO_reference.tif
-m        /home/ckirst/Science/Projects/BrainActivityMap/Analysis/iDISCO/Test/Synthetic/test_iDISCO_resample.tif
-fMask    unspecified, so no fixed mask used
-mMask    unspecified, so no moving mask used
-out      /home/ckirst/Science/Projects/BrainActivityMap/Analysis/iDISCO/Test/Synthetic/elastix/
-p        /home/ckirst/Science/Projects/BrainActivityMap/Analysis/iDISCO/Test/Synthetic/elastix/ElastixParameterAffine.txt
-threads  16
WARNING: The parameter "UseDirectionCosines", requested at entry number 0, does not exist at all.
  The default value "false" is used instead.

WARNING: From elastix 4.3 it is highly recommended to add
the UseDirectionCosines option to your parameter file! See
http://elastix.isi.uu.nl/whatsnew_04_3.php for more information.

Command line options from TransformBase:
-t0       unspecified, so no initial transform used

=============== start of ParameterFile: /home/ckirst/Science/Projects/BrainActivityMap/Analysis/iDISCO/Test/Synthetic/elastix/ElastixParameterAffine.txt ===============
//Affine Transformation - updated May 2012

// Description: affine, MI, ASGD

//ImageTypes
(FixedInternalImagePixelType "float")
(FixedImageDimension 3)
(MovingInternalImagePixelType "float")
(MovingImageDimension 3)

//Components
(Registration "MultiResolutionRegistration")
(FixedImagePyramid "FixedSmoothingImagePyramid")
(MovingImagePyramid "MovingSmoothingImagePyramid")
(Interpolator "BSplineInterpolator")
(Metric "AdvancedMattesMutualInformation")
(Optimizer "AdaptiveStochasticGradientDescent")
(ResampleInterpolator "FinalBSplineInterpolator")
(Resampler "DefaultResampler")
(Transform "AffineTransform")

(ErodeMask "true" )

(NumberOfResolutions 4)

(HowToCombineTransforms "Compose")
(AutomaticTransformInitialization "true")
(AutomaticScalesEstimation "true")

(WriteTransformParametersEachIteration "false")
(WriteResultImage "false")
(CompressResultImage "true")
(WriteResultImageAfterEachResolution "true") 
(ShowExactMetricValue "false")

//Maximum number of iterations in each resolution level:
(MaximumNumberOfIterations 5 ) 

//Number of grey level bins in each resolution level:
(NumberOfHistogramBins 32 )
(FixedLimitRangeRatio 0.0)
(MovingLimitRangeRatio 0.0)
(FixedKernelBSplineOrder 3)
(MovingKernelBSplineOrder 3)

//Number of spatial samples used to compute the mutual information in each resolution level:
(ImageSampler "RandomCoordinate")
(FixedImageBSplineInterpolationOrder 3)
(UseRandomSampleRegion "false")
(NumberOfSpatialSamples 2000 )
(NewSamplesEveryIteration "true")
(CheckNumberOfSamples "true")
(MaximumNumberOfSamplingAttempts 10)

//Order of B-Spline interpolation used in each resolution level:
(BSplineInterpolationOrder 3)

//Order of B-Spline interpolation used for applying the final deformation:
(FinalBSplineInterpolationOrder 3)

//Default pixel value for pixels that come from outside the picture:
(DefaultPixelValue 0)

//SP: Param_A in each resolution level. a_k = a/(A+k+1)^alpha
(SP_A 25.0 )




=============== end of ParameterFile: /home/ckirst/Science/Projects/BrainActivityMap/Analysis/iDISCO/Test/Synthetic/elastix/ElastixParameterAffine.txt ===============


Reading images...
Reading images took 4 ms.

WARNING: the fixed pyramid schedule is not fully specified!
  A default pyramid schedule is used.
WARNING: the moving pyramid schedule is not fully specified!
  A default pyramid schedule is used.
WARNING: The parameter "AutomaticTransformInitializationMethod", requested at entry number 0, does not exist at all.
  The default value "GeometricalCenter" is used instead.
Transform parameters are initialized as: [1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0]
Scales are estimated automatically.
Scales for transform parameters are: [481, 242.66666666666666, 47.916666666666664, 481, 242.66666666666666, 47.916666666666664, 481, 242.66666666666666, 47.916666666666664, 1, 1, 1]
Initialization of all components (before registration) took: 6 ms.
Preparation of the image pyramids took: 25 ms.

Resolution: 0
Setting the fixed masks took: 0 ms.
Setting the moving masks took: 0 ms.
WARNING: The parameter "NumberOfFixedHistogramBins", requested at entry number 0, does not exist at all.
  The default value "32" is used instead.
WARNING: The parameter "NumberOfMovingHistogramBins", requested at entry number 0, does not exist at all.
  The default value "32" is used instead.
WARNING: The parameter "UseFastAndLowMemoryVersion", requested at entry number 0, does not exist at all.
  The default value "true" is used instead.
WARNING: The parameter "UseJacobianPreconditioning", requested at entry number 0, does not exist at all.
  The default value "false" is used instead.
WARNING: The parameter "FiniteDifferenceDerivative", requested at entry number 0, does not exist at all.
  The default value "false" is used instead.

WARNING: You have set MaximumNumberOfSamplingAttempts to 10.
  This functionality is known to cause problems (stack overflow) for large values.
  If elastix stops or segfaults for no obvious reason, reduce this value.
  You may select the RandomSparseMask image sampler to fix mask-related problems.

WARNING: The parameter "SigmoidInitialTime", requested at entry number 0, does not exist at all.
  The default value "0" is used instead.
WARNING: The parameter "MaxBandCovSize", requested at entry number 0, does not exist at all.
  The default value "192" is used instead.
WARNING: The parameter "NumberOfBandStructureSamples", requested at entry number 0, does not exist at all.
  The default value "10" is used instead.
WARNING: The parameter "UseAdaptiveStepSizes", requested at entry number 0, does not exist at all.
  The default value "true" is used instead.
WARNING: The parameter "AutomaticParameterEstimation", requested at entry number 0, does not exist at all.
  The default value "true" is used instead.
WARNING: The parameter "MaximumStepLength", requested at entry number 0, does not exist at all.
  The default value "1" is used instead.
WARNING: The parameter "NumberOfGradientMeasurements", requested at entry number 0, does not exist at all.
  The default value "0" is used instead.
WARNING: The parameter "NumberOfJacobianMeasurements", requested at entry number 0, does not exist at all.
  The default value "1000" is used instead.
WARNING: The parameter "NumberOfSamplesForExactGradient", requested at entry number 0, does not exist at all.
  The default value "100000" is used instead.
WARNING: The parameter "SigmoidScaleFactor", requested at entry number 0, does not exist at all.
  The default value "0.1" is used instead.
Elastix initialization of all components (for this resolution) took: 0 ms.
Initialization of AdvancedMattesMutualInformation metric took: 5 ms.
Starting automatic parameter estimation for AdaptiveStochasticGradientDescent ...
WARNING: The parameter "ASGDParameterEstimationMethod", requested at entry number 0, does not exist at all.
  The default value "Original" is used instead.
  Computing JacobianTerms ...
  Computing the Jacobian terms took 0 Seconds
  NumberOfGradientMeasurements to estimate sigma_i: 3
  Sampling gradients ...
  Sampling the gradients took 1 Seconds
Automatic parameter estimation took 1 Seconds
1:ItNr	2:Metric	3a:Time	3b:StepSize	4:||Gradient||	Time[ms]
0	-2.030072	0.000000	2.968500	0.028259	614
1	-2.032597	0.000000	2.968500	0.024309	10
2	-2.032575	0.000000	2.968500	0.023430	16
3	-2.037366	0.000000	2.968500	0.024218	12
4	-2.034999	0.000000	2.968500	0.031712	11
Time spent in resolution 0 (ITK initialisation and iterating): 0.665 s.
Applying transform this resolution ...
  Applying transform took 0 s.
Stopping condition: Maximum number of iterations has been reached.
Settings of AdaptiveStochasticGradientDescent in resolution 0:
( SP_a 77.180990 )
( SP_A 25.000000 )
( SP_alpha 1.000000 )
( SigmoidMax 1.000000 )
( SigmoidMin -0.023734 )
( SigmoidScale 0.000007 )


Resolution: 1
Setting the fixed masks took: 0 ms.
Setting the moving masks took: 0 ms.
WARNING: The parameter "NumberOfFixedHistogramBins", requested at entry number 1, does not exist at all.
  The default value "32" is used instead.
WARNING: The parameter "NumberOfMovingHistogramBins", requested at entry number 1, does not exist at all.
  The default value "32" is used instead.
WARNING: The parameter "UseFastAndLowMemoryVersion", requested at entry number 1, does not exist at all.
  The default value "true" is used instead.
WARNING: The parameter "UseJacobianPreconditioning", requested at entry number 1, does not exist at all.
  The default value "false" is used instead.
WARNING: The parameter "FiniteDifferenceDerivative", requested at entry number 1, does not exist at all.
  The default value "false" is used instead.

WARNING: You have set MaximumNumberOfSamplingAttempts to 10.
  This functionality is known to cause problems (stack overflow) for large values.
  If elastix stops or segfaults for no obvious reason, reduce this value.
  You may select the RandomSparseMask image sampler to fix mask-related problems.

WARNING: The parameter "SigmoidInitialTime", requested at entry number 1, does not exist at all.
  The default value "0" is used instead.
WARNING: The parameter "MaxBandCovSize", requested at entry number 1, does not exist at all.
  The default value "192" is used instead.
WARNING: The parameter "NumberOfBandStructureSamples", requested at entry number 1, does not exist at all.
  The default value "10" is used instead.
WARNING: The parameter "UseAdaptiveStepSizes", requested at entry number 1, does not exist at all.
  The default value "true" is used instead.
WARNING: The parameter "AutomaticParameterEstimation", requested at entry number 1, does not exist at all.
  The default value "true" is used instead.
WARNING: The parameter "MaximumStepLength", requested at entry number 1, does not exist at all.
  The default value "1" is used instead.
WARNING: The parameter "NumberOfGradientMeasurements", requested at entry number 1, does not exist at all.
  The default value "0" is used instead.
WARNING: The parameter "NumberOfJacobianMeasurements", requested at entry number 1, does not exist at all.
  The default value "1000" is used instead.
WARNING: The parameter "NumberOfSamplesForExactGradient", requested at entry number 1, does not exist at all.
  The default value "100000" is used instead.
WARNING: The parameter "SigmoidScaleFactor", requested at entry number 1, does not exist at all.
  The default value "0.1" is used instead.
Elastix initialization of all components (for this resolution) took: 0 ms.
Initialization of AdvancedMattesMutualInformation metric took: 5 ms.
Starting automatic parameter estimation for AdaptiveStochasticGradientDescent ...
WARNING: The parameter "ASGDParameterEstimationMethod", requested at entry number 0, does not exist at all.
  The default value "Original" is used instead.
  Computing JacobianTerms ...
  Computing the Jacobian terms took 0 Seconds
  NumberOfGradientMeasurements to estimate sigma_i: 3
  Sampling gradients ...
  Sampling the gradients took 0 Seconds
Automatic parameter estimation took 0 Seconds
1:ItNr	2:Metric	3a:Time	3b:StepSize	4:||Gradient||	Time[ms]
0	-2.027395	0.000000	1.154514	0.142982	563
1	-2.021734	0.000000	1.154514	0.266063	10
2	-1.991093	1.000000	1.111755	0.363469	13
3	-1.970580	2.000000	1.072049	0.392252	15
4	-1.980138	3.000000	1.035082	0.402255	10
Time spent in resolution 1 (ITK initialisation and iterating): 0.614 s.
Applying transform this resolution ...
  Applying transform took 0 s.
Stopping condition: Maximum number of iterations has been reached.
Settings of AdaptiveStochasticGradientDescent in resolution 1:
( SP_a 30.017372 )
( SP_A 25.000000 )
( SP_alpha 1.000000 )
( SigmoidMax 1.000000 )
( SigmoidMin -0.036756 )
( SigmoidScale 0.000094 )


Resolution: 2
Setting the fixed masks took: 0 ms.
Setting the moving masks took: 0 ms.
WARNING: The parameter "NumberOfFixedHistogramBins", requested at entry number 2, does not exist at all.
  The default value "32" is used instead.
WARNING: The parameter "NumberOfMovingHistogramBins", requested at entry number 2, does not exist at all.
  The default value "32" is used instead.
WARNING: The parameter "UseFastAndLowMemoryVersion", requested at entry number 2, does not exist at all.
  The default value "true" is used instead.
WARNING: The parameter "UseJacobianPreconditioning", requested at entry number 2, does not exist at all.
  The default value "false" is used instead.
WARNING: The parameter "FiniteDifferenceDerivative", requested at entry number 2, does not exist at all.
  The default value "false" is used instead.

WARNING: You have set MaximumNumberOfSamplingAttempts to 10.
  This functionality is known to cause problems (stack overflow) for large values.
  If elastix stops or segfaults for no obvious reason, reduce this value.
  You may select the RandomSparseMask image sampler to fix mask-related problems.

WARNING: The parameter "SigmoidInitialTime", requested at entry number 2, does not exist at all.
  The default value "0" is used instead.
WARNING: The parameter "MaxBandCovSize", requested at entry number 2, does not exist at all.
  The default value "192" is used instead.
WARNING: The parameter "NumberOfBandStructureSamples", requested at entry number 2, does not exist at all.
  The default value "10" is used instead.
WARNING: The parameter "UseAdaptiveStepSizes", requested at entry number 2, does not exist at all.
  The default value "true" is used instead.
WARNING: The parameter "AutomaticParameterEstimation", requested at entry number 2, does not exist at all.
  The default value "true" is used instead.
WARNING: The parameter "MaximumStepLength", requested at entry number 2, does not exist at all.
  The default value "1" is used instead.
WARNING: The parameter "NumberOfGradientMeasurements", requested at entry number 2, does not exist at all.
  The default value "0" is used instead.
WARNING: The parameter "NumberOfJacobianMeasurements", requested at entry number 2, does not exist at all.
  The default value "1000" is used instead.
WARNING: The parameter "NumberOfSamplesForExactGradient", requested at entry number 2, does not exist at all.
  The default value "100000" is used instead.
WARNING: The parameter "SigmoidScaleFactor", requested at entry number 2, does not exist at all.
  The default value "0.1" is used instead.
Elastix initialization of all components (for this resolution) took: 0 ms.
Initialization of AdvancedMattesMutualInformation metric took: 5 ms.
Starting automatic parameter estimation for AdaptiveStochasticGradientDescent ...
WARNING: The parameter "ASGDParameterEstimationMethod", requested at entry number 0, does not exist at all.
  The default value "Original" is used instead.
  Computing JacobianTerms ...
  Computing the Jacobian terms took 0 Seconds
  NumberOfGradientMeasurements to estimate sigma_i: 3
  Sampling gradients ...
  Sampling the gradients took 1 Seconds
Automatic parameter estimation took 1 Seconds
1:ItNr	2:Metric	3a:Time	3b:StepSize	4:||Gradient||	Time[ms]
0	-1.889035	0.000000	0.617993	0.637556	562
1	-1.891586	0.000000	0.617993	0.462087	13
2	-1.930685	1.000000	0.595105	0.544405	11
3	-1.882741	2.000000	0.573851	0.430885	14
4	-1.969724	3.000000	0.554063	0.162937	13
Time spent in resolution 2 (ITK initialisation and iterating): 0.616 s.
Applying transform this resolution ...
  Applying transform took 0 s.
Stopping condition: Maximum number of iterations has been reached.
Settings of AdaptiveStochasticGradientDescent in resolution 2:
( SP_a 16.067828 )
( SP_A 25.000000 )
( SP_alpha 1.000000 )
( SigmoidMax 1.000000 )
( SigmoidMin -0.082980 )
( SigmoidScale 0.000847 )


Resolution: 3
Setting the fixed masks took: 0 ms.
Setting the moving masks took: 0 ms.
WARNING: The parameter "NumberOfFixedHistogramBins", requested at entry number 3, does not exist at all.
  The default value "32" is used instead.
WARNING: The parameter "NumberOfMovingHistogramBins", requested at entry number 3, does not exist at all.
  The default value "32" is used instead.
WARNING: The parameter "UseFastAndLowMemoryVersion", requested at entry number 3, does not exist at all.
  The default value "true" is used instead.
WARNING: The parameter "UseJacobianPreconditioning", requested at entry number 3, does not exist at all.
  The default value "false" is used instead.
WARNING: The parameter "FiniteDifferenceDerivative", requested at entry number 3, does not exist at all.
  The default value "false" is used instead.

WARNING: You have set MaximumNumberOfSamplingAttempts to 10.
  This functionality is known to cause problems (stack overflow) for large values.
  If elastix stops or segfaults for no obvious reason, reduce this value.
  You may select the RandomSparseMask image sampler to fix mask-related problems.

WARNING: The parameter "SigmoidInitialTime", requested at entry number 3, does not exist at all.
  The default value "0" is used instead.
WARNING: The parameter "MaxBandCovSize", requested at entry number 3, does not exist at all.
  The default value "192" is used instead.
WARNING: The parameter "NumberOfBandStructureSamples", requested at entry number 3, does not exist at all.
  The default value "10" is used instead.
WARNING: The parameter "UseAdaptiveStepSizes", requested at entry number 3, does not exist at all.
  The default value "true" is used instead.
WARNING: The parameter "AutomaticParameterEstimation", requested at entry number 3, does not exist at all.
  The default value "true" is used instead.
WARNING: The parameter "MaximumStepLength", requested at entry number 3, does not exist at all.
  The default value "1" is used instead.
WARNING: The parameter "NumberOfGradientMeasurements", requested at entry number 3, does not exist at all.
  The default value "0" is used instead.
WARNING: The parameter "NumberOfJacobianMeasurements", requested at entry number 3, does not exist at all.
  The default value "1000" is used instead.
WARNING: The parameter "NumberOfSamplesForExactGradient", requested at entry number 3, does not exist at all.
  The default value "100000" is used instead.
WARNING: The parameter "SigmoidScaleFactor", requested at entry number 3, does not exist at all.
  The default value "0.1" is used instead.
Elastix initialization of all components (for this resolution) took: 0 ms.
Initialization of AdvancedMattesMutualInformation metric took: 5 ms.
Starting automatic parameter estimation for AdaptiveStochasticGradientDescent ...
WARNING: The parameter "ASGDParameterEstimationMethod", requested at entry number 0, does not exist at all.
  The default value "Original" is used instead.
  Computing JacobianTerms ...
  Computing the Jacobian terms took 0 Seconds
  NumberOfGradientMeasurements to estimate sigma_i: 3
  Sampling gradients ...
  Sampling the gradients took 1 Seconds
Automatic parameter estimation took 1 Seconds
1:ItNr	2:Metric	3a:Time	3b:StepSize	4:||Gradient||	Time[ms]
0	-1.570404	0.000000	1.431387	0.432585	611
1	-1.398089	0.000000	1.431387	0.162343	11
2	-1.464347	1.000000	1.378373	0.222589	13
3	-1.544520	0.864419	1.385330	0.513841	12
4	-1.421731	0.728837	1.392357	0.051265	14
Time spent in resolution 3 (ITK initialisation and iterating): 0.664 s.
Applying transform this resolution ...
  Applying transform took 0 s.
Stopping condition: Maximum number of iterations has been reached.
Settings of AdaptiveStochasticGradientDescent in resolution 3:
( SP_a 37.216072 )
( SP_A 25.000000 )
( SP_alpha 1.000000 )
( SigmoidMax 1.000000 )
( SigmoidMin -0.135581 )
( SigmoidScale 0.000256 )



=============== start of TransformParameterFile ===============
(Transform "AffineTransform")
(NumberOfParameters 12)
(TransformParameters 1.002142 0.005523 0.004630 0.006343 1.025344 0.013395 0.000113 0.024543 0.953308 0.008467 0.027858 0.325905)
(InitialTransformParametersFileName "NoInitialTransform")
(HowToCombineTransforms "Compose")

// Image specific
(FixedImageDimension 3)
(MovingImageDimension 3)
(FixedInternalImagePixelType "float")
(MovingInternalImagePixelType "float")
(Size 75 53 24)
(Index 0 0 0)
(Spacing 1.0000000000 1.0000000000 1.0000000000)
(Origin 0.0000000000 0.0000000000 0.0000000000)
(Direction 1.0000000000 0.0000000000 0.0000000000 0.0000000000 1.0000000000 0.0000000000 0.0000000000 0.0000000000 1.0000000000)
(UseDirectionCosines "false")

// AdvancedAffineTransform specific
(CenterOfRotationPoint 37.0000000000 26.0000000000 11.5000000000)

// ResampleInterpolator specific
(ResampleInterpolator "FinalBSplineInterpolator")
(FinalBSplineInterpolationOrder 3)

// Resampler specific
(Resampler "DefaultResampler")
(DefaultPixelValue 0.000000)
(ResultImageFormat "mhd")
(ResultImagePixelType "short")
(CompressResultImage "true")

=============== end of TransformParameterFile ===============

Registration result checksum: 4033581028

Skipping applying final transform, no resulting output image generated.

Final metric value  = -1.421731
Settings of AdaptiveStochasticGradientDescent for all resolutions:
( SP_a 77.180990 30.017372 16.067828 37.216072 )
( SP_A 25.000000 25.000000 25.000000 25.000000 )
( SP_alpha 1.000000 1.000000 1.000000 1.000000 )
( SigmoidMax 1.000000 1.000000 1.000000 1.000000 )
( SigmoidMin -0.023734 -0.036756 -0.082980 -0.135581 )
( SigmoidScale 0.000007 0.000094 0.000847 0.000256 )

Time spent on saving the results, applying the final transform etc.: 0 ms.
Running elastix with parameter file 0: "/home/ckirst/Science/Projects/BrainActivityMap/Analysis/iDISCO/Test/Synthetic/elastix/ElastixParameterAffine.txt", has finished.


Current time: Sat Jul 25 12:02:00 2015.
Time used for running elastix with this parameter file: 3 Seconds.

-------------------------------------------------------------------------

Total time elapsed: 3 Seconds.

